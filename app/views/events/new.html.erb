<% content_for :title, "Add a New event" %>
<div class="container mb-3 pt-3" style="max-width: 600px;">

  <% if owner_signed_in? %>
    <%= render partial: "owner_form", locals: { event: @event } %>
  <% elsif artist_signed_in? %>
    <%= render partial: "artist_form", locals: { event: @event } %>
  <% elsif user_signed_in? && is_admin? %>
    <%= render partial: "admin_form", locals: { event: @event } %>
  <% elsif promoter_signed_in? %>
      <%= render partial: "promoter_form", locals: { event: @event } %>
  <% else %>
    <p>You must be signed in as an owner or artist to create events.</p>
  <% end %>

  <br>


</div>

<!-- Your existing layout content -->

<script>
function toggleCoverAmount() {
  const checkbox = document.getElementById('event_cover');
  const coverAmountField = document.getElementById('cover-amount-field');
  
  if (checkbox && coverAmountField) {
    const coverAmountInput = coverAmountField.querySelector('input[type="number"]');
    
    if (checkbox.checked) {
      coverAmountField.style.display = 'block';
      if (coverAmountInput) coverAmountInput.required = true;
    } else {
      coverAmountField.style.display = 'none';
      if (coverAmountInput) {
        coverAmountInput.required = false;
        coverAmountInput.value = '';
      }
    }
  }
}

// Run on page load to set initial state
document.addEventListener('DOMContentLoaded', function() {
  toggleCoverAmount();
});
</script>

</body>
</html>
