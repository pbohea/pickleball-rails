<% content_for :title, "About Pickleball" %>

<style>
  :root {
    --ink: #0f172a;
    --stone: #5b6475;
    --accent: #0d6efd;
    --accent-dark: #0b5ed7;
  }

  .page-shell { max-width: 1100px; margin: 0 auto; padding: 3rem 1.25rem 4rem; text-align: center; }

  .hero {
    background: radial-gradient(circle at 15% 20%, rgba(13, 110, 253, 0.12), transparent 35%),
                radial-gradient(circle at 80% 8%, rgba(15, 23, 42, 0.08), transparent 30%);
    padding: 3rem 2.4rem;
    border-radius: 18px;
    border: 1px solid #e5e7eb;
  }

  .eyebrow { display: inline-block; padding: 0.35rem 0.75rem; border-radius: 999px; background: var(--ink); color: #fff; font-weight: 600; letter-spacing: 0.02em; }
  .hero h1 { margin: 1rem 0 0.6rem; font-size: clamp(2.3rem, 4vw, 3.1rem); letter-spacing: -0.03em; color: var(--ink); line-height: 1.08; }
  .lede { font-size: 1.05rem; color: var(--stone); max-width: 780px; line-height: 1.6; margin: 0 auto 1.1rem; }

  .actions { display: flex; flex-wrap: wrap; gap: 0.75rem; align-items: center; justify-content: center; margin-top: 0.6rem; }
  .cta-primary { display: inline-flex; align-items: center; gap: 0.4rem; background: var(--accent); color: #fff; padding: 0.9rem 1.5rem; border-radius: 10px; font-weight: 700; text-decoration: none; box-shadow: 0 10px 26px rgba(13, 110, 253, 0.22); transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease; }
  .cta-primary:hover { background: var(--accent-dark); transform: translateY(-1px); box-shadow: 0 12px 32px rgba(13, 110, 253, 0.26); }
  .cta-ghost { color: var(--ink); font-weight: 600; text-decoration: none; border-bottom: 2px solid #d9dce5; padding-bottom: 0.15rem; }
  .hero-media {
    margin: 1.75rem auto 0;
    max-width: 520px;
    width: 100%;
    aspect-ratio: 9 / 16;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 18px 48px rgba(15, 23, 42, 0.18);
    background: #000;
    position: relative;
  }
  .hero-media video {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: #000;
  }
  .hero-media img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .pill-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; margin: 2.3rem 0 3rem; }
  .pill { background: #fff; border: 1px solid #e5e7eb; border-radius: 14px; padding: 1.35rem; box-shadow: 0 14px 32px rgba(15, 23, 42, 0.05); text-align: center; }
  .pill h3 { margin: 0 0 0.35rem; font-size: 1.08rem; color: var(--ink); }
  .pill p { margin: 0; color: var(--stone); line-height: 1.45; }

  .steps { margin: 0 0 3rem; }
  .steps h2 { margin: 0 0 1.1rem; font-size: 1.55rem; letter-spacing: -0.01em; color: var(--ink); }
  .step-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; }
  .step { background: #0f172a; color: #fff; border-radius: 14px; padding: 1.2rem; text-align: center; }
  .step strong { display: block; margin-bottom: 0.35rem; font-size: 1.03rem; }
  .step small { color: rgba(255, 255, 255, 0.88); line-height: 1.45; }

  .cta-end { background: #fff; border: 1px solid #e5e7eb; border-radius: 14px; padding: 1.7rem; text-align: center; box-shadow: 0 16px 32px rgba(15, 23, 42, 0.06); }
  .cta-end h2 { margin: 0 0 0.45rem; font-size: 1.85rem; color: var(--ink); }
  .cta-end p { margin: 0 0 1rem; color: var(--stone); }

  @media (max-width: 720px) {
    .page-shell { padding: 2.5rem 1.1rem 3rem; }
    .hero { padding: 2.4rem 1.6rem; }
    .pill-grid { grid-template-columns: 1fr; }
    .step-grid { grid-template-columns: 1fr; }
  }
</style>

<div class="page-shell">
  <header class="hero">
    <h1>Stop wandering the street looking for a cover band.</h1>
    <%# <p class="lede">
    <%#   Pickleball is for people looking for a bar with live music.
    <%# </p> %>
    <% unless owner_signed_in? || artist_signed_in? || user_signed_in? || promoter_signed_in? %>
    <div class="actions">
      <%= link_to "Sign up to follow bands & bars", new_user_registration_path, class: "cta-primary" %>
    </div>
    <% end %>
    <div class="hero-media">
      <video
        id="hero-video"
        autoplay
        muted
        playsinline
        webkit-playsinline
        loop
        preload="auto"
        disablepictureinpicture
        controlslist="nodownload nofullscreen noremoteplayback"
      >
        <source src="https://pickleball-assets.s3.us-east-1.amazonaws.com/user_video_formatted.mp4" type="video/mp4">
      </video>
    </div>

    <script>
      const video = document.getElementById('hero-video');

      const playInline = () => {
        if (!video) return;
        video.muted = true;
        video.playsInline = true;
        video.setAttribute('playsinline', '');
        video.setAttribute('webkit-playsinline', '');
        const attempt = video.play();
        if (attempt && typeof attempt.catch === 'function') {
          attempt.catch(() => {});
        }
      };

      document.addEventListener('turbo:load', playInline);
      document.addEventListener('visibilitychange', () => {
        if (document.visibilityState === 'visible') playInline();
      });

      video.addEventListener('webkitbeginfullscreen', () => {
        console.log('⚠️ Video went fullscreen (WKWebView config not applied)');
      });

      video.addEventListener('playing', () => {
        console.log('✅ Video is playing inline');
      });

      playInline();
    </script>
  </header>

  <div class="pill-grid">
    <div class="pill">
      <h3>Everything in one map</h3>
      <p>See all nearby shows by distance, date, and genre in a few taps.</p>
    </div>
    <div class="pill">
      <h3>Never miss a night</h3>
      <p>Follow artists and venues; get notified when they add dates.</p>
    </div>
    <div class="pill">
      <h3>Plan fast</h3>
      <p>Pick tonight, this week, or the weekend without scrolling feeds.</p>
    </div>
  </div>

  <section class="steps">
    <h2>Three taps to live music</h2>
    <div class="step-grid">
      <div class="step">
        <strong>1) Open the map</strong>
        <small>See what’s on tonight near you.</small>
      </div>
      <div class="step">
        <strong>2) Filter by vibe</strong>
        <small>Genre, distance, or date—find the right bar fast.</small>
      </div>
      <div class="step">
        <strong>3) Follow and go</strong>
        <small>Get alerts from your favorite bars & bands and show up with friends.</small>
      </div>
    </div>
  </section>

  <%# <div class="cta-end">
  <%#   <h2>Find the next great set near you.</h2>
  <%#   <p>Jump in free. Pick a show. Go have a night.</p>
  <%#   <%= link_to "Start exploring", events_map_path, class: "cta-primary" %>
  <%# </div> %>
</div>
